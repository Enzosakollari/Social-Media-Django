{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>{% block title %}SocialApp{% endblock %}</title>

  <link rel="stylesheet" href="{% static 'css/base.css' %}">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body class="app-body">

{% block sidebar %}
<nav class="side-nav">
  {% if request.user.is_authenticated %}
    <div class="side-nav-middle">
      <!-- Feed -->
      <a href="{% url 'feed' %}" class="side-nav-item" title="Feed">
        <svg viewBox="0 0 24 24" class="side-nav-icon">
          <path d="M4 10.5L12 3l8 7.5V20a1 1 0 0 1-1 1h-5v-5h-4v5H5a1 1 0 0 1-1-1z"/>
        </svg>
      </a>

      <!-- Conversations -->
      <a href="{% url 'conversations' %}" class="side-nav-item" title="Messages">
        <svg viewBox="0 0 24 24" class="side-nav-icon">
          <path d="M4 5h16a1 1 0 0 1 1 1v9a1 1 0 0 1-1 1h-6l-4 3v-3H4a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1z"/>
        </svg>
      </a>

      <!-- Profile -->
      <a href="{% url 'profile' request.user.username %}" class="side-nav-item" title="Profile">
        {% if request.user.profile.avatar %}
          <img src="{{ request.user.profile.avatar.url }}" alt="{{ request.user.username }}" class="side-nav-avatar">
        {% else %}
          <svg viewBox="0 0 24 24" class="side-nav-icon">
            <path d="M12 12a4 4 0 1 0-4-4 4 4 0 0 0 4 4zm0 2c-4 0-7 2-7 4.5V21h14v-2.5C19 16 16 14 12 14z"/>
          </svg>
        {% endif %}
      </a>

      <!-- New Post -->
      <a href="{% url 'create_post' %}" class="side-nav-item" title="New Post">
        <svg viewBox="0 0 24 24" class="side-nav-icon">
          <path d="M12 5v14M5 12h14" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </a>
    </div>
  {% else %}
    <!-- you can keep the login icon here if you want a sidebar for guests
         or just leave this part empty -->
  {% endif %}
</nav>
{% endblock %}

<main class="main-wrapper">
  {% block content %}{% endblock %}
</main>

<script src="{% static 'js/script.js' %}"></script>
</body>
</html>
